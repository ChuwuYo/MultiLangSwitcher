## 🔧 TODO

### 🟡 **中优先级 - 可优化的设计**

#### 1. **国际化系统的环境检测复杂度**
**位置**: `shared-utils.js:97-182`
**问题描述**:
- 多达8个翻译源的检查链，对于小型扩展可能过于复杂
- 可以考虑使用Chrome标准的`chrome.i18n` API简化

#### 2. **资源管理的环境差异化策略**
**位置**: `shared-resource-manager.js`
**问题描述**:
- 虽然设计合理，但在某些场景下可能过度谨慎
- 浏览器自动清理机制通常已足够处理大部分情况

---

## 📝 精准实施路线图

### 第一阶段：识别问题
- [x] 识别真正的过度工程化问题（并发控制、错误分类等）
- [x] 理解合理的复杂度（域名匹配、缓存等）

### 第二阶段：精准简化
- [x] 简化 `background.js` 的双重并发控制机制
- [x] 合并 `shared-update-checker.js` 的错误类型（11种→3-4种）
- [x] 精简初始化守卫的三层检查逻辑

### 第三阶段：代码质量改进
- [ ] 创建通用辅助函数减少样板代码
- [ ] 提取常量和配置管理
- [ ] 完善技术文档说明架构决策

### 第四阶段：持续改进
- [ ] 根据实际使用情况微调复杂度
- [ ] 收集性能数据验证优化效果
- [ ] 平衡功能需求和代码简洁性