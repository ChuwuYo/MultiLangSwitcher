# v1.8.59（含迭代内容）

## 主要改动

### 1. 功能增强

- ✅ 调试功能新增拓展权限诊断，优化代码（v1.8.53）
- ✅ 调整更新检查策略（v1.8.54）
- ✅ 添加基础国际化类的必需参数验证，完善错误处理（v1.8.57）
- ✅ 改进语言选项函数的参数验证，完善类型检查（v1.8.57）
- ✅ 改进基础国际化类的占位符替换实现（v1.8.57）
- ✅ 统一错误处理模式，重构更新检查器错误分类逻辑（v1.8.58）
- ✅ 简化重试逻辑实现，优化更新检查器错误增强和重试决策机制（v1.8.58）
- ✅ 修复重试配置不一致问题，统一可重试错误类型定义（v1.8.58）
- ✅ 优化错误处理性能，消除重复调用 handleApiError 的问题（v1.8.58）
- ✅ 重构域名匹配算法，支持缓存与预加载机制，增强匹配通用性（v1.8.59）
- ✅ 完善域名匹配算法相关翻译键（v1.8.59）
- ✅ 修改英文用户语言代码默认值,en→en-us（v1.8.60）

### 2. 代码优化

- ✅ 重构popup代码结构，优化代码符合项目规范（v1.8.54）
- ✅ 重构共享工具库代码结构，优化代码符合项目规范（v1.8.55）
- ✅ 重构共享操作函数模块代码结构，优化代码符合项目规范（v1.8.55）
- ✅ 简化共享操作函数模块错误处理，消除重复日志记录（v1.8.56）
- ✅ 优化共享语言选项代码，符合项目规范（v1.8.57）
- ✅ 优化更新检查器fallback函数代码，符合项目规范（v1.8.57）

## 文件变更清单

### 新增文件

- Wiki.md - 项目Wiki（v1.8.55）
- Domain_Optimization_Guide.md - 域名匹配算法优化指南（v1.8.59）

### 重命名文件

- None → None - Nothing（v）

### 修改文件

- Update.md - 更新文档内容更新（v1.8.53、v1.8.54、v1.8.55、v1.8.56、v1.8.57、v1.8.58、v1.8.59）
- TODO.md - 待办更新（v1.8.55、v1.8.57、v1.8.58、v1.8.59）
- Project_Structure.md - 项目结构文档更新（v1.8.55、v1.8.59）
- Code_Style_Guide.md - 代码风格指南更新（v1.8.57、v1.8.58、v1.8.59）
- Wiki.md - 新建项目Wiki（v1.8.55）；更新文档（v1.8.58、v1.8.59）
- Domain_Optimization_Guide.md - 新增域名匹配算法优化指南（v1.8.59）
- I18n_Usage_Guide.md - 更新内容与项目匹配（v1.8.59）
- manifest.json - 版本号更新（v1.8.53、v1.8.54、v1.8.55、v1.8.56、v1.8.57、v1.8.58、v1.8.59）；增加512*512图标引用（v1.8.55）
- debug-ui.js - 新增拓展权限诊断信息，移除残留的静态规则检查，应用可选链操作符优化代码（v1.8.53）
- debug-en.js、debug-zh.js - 清理未使用的静态规则集相关翻译键（v1.8.53）
- popup.js - 重构代码结构，符合项目规范（v1.8.54）
- shared-update-checker.js - 调整更新检查缓存时间与基础延迟（v1.8.54）；优化fallback函数代码（v1.8.57）；重构错误处理逻辑，统一错误分类模式；简化重试逻辑实现，优化错误增强和重试决策机制；修复重试配置不一致问题，统一可重试错误类型定义；优化错误处理性能，消除重复调用 handleApiError 的问题（v1.8.58）
- shared-utils.js - 重构代码结构，符合项目规范（v1.8.55）
- shared-actions.js - 重构代码结构，符合项目规范（v1.8.55）；简化错误处理，消除重复日志记录（v1.8.56）
- shared-i18n-base.js - 添加基础国际化类的必需参数验证，完善错误处理；改进占位符替换实现，使用更安全的split/join方式（v1.8.57）
- shared-language-options.js - 优化代码，符合项目规范；改进参数验证，完善类型检查（v1.8.57）
- domain-rules-manager.js - 重构域名匹配算法，添加多层缓存机制和规则预处理，增强匹配通用性（v1.8.59）
- domain-manager-zh.js、domain-manager-en.js - 完善域名匹配算法相关翻译键（v1.8.59）
- background.js - 修改英文用户默认值,en→en-us（v1.8.60）

### 移除内容

- i18n翻译中未使用的翻译键（v1.8.53）
- 调试权限诊断信息残留的静态规则检查（v1.8.55）
- 过时的文档内容（v1.8.59）
- 测试内容（v1.8.59）